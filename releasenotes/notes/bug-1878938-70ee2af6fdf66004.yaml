---
fixes:
  - |
    [`bug 1878938 <https://bugs.launchpad.net/keystone/+bug/1878938>`_]
    Previously when a user used to have system role assignment and tries to delete
    the same role, the system role assignments still existed in system_assignment
    table. This fix ensures that deleting a role should delete all the its assignments
    from every assignment table.

    If you are affected by this bug, a fix in the keystone database will be
    needed so we recommend to remove the stale role assignmensts before doing this
    process.

    SQL:
         - delete from assignment where role_id not in (select id from role);
         - delete from system_assignment where role_id not in (select id from role);
